<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <mapper namespace="com.meta.metaway.admin.dao.IAdminStaffRepository">
    	<select id="selectAllStaff" resultType="com.meta.metaway.admin.dto.AdminStaffDTO">
		    SELECT
		        s.staff_id AS "staffId",
		        s.user_id AS "userId",
		        u.user_email AS "userEmail",
		        u.user_phone AS "userPhone",
		        u.user_name AS "userName",
		        u.user_address AS "userAddress",
		        s.work_place AS "workPlace",
		        s.work_status AS "workStatus",
		        ua.authority_name AS "authorityName"
		    FROM
		        staff s
		    LEFT JOIN users u ON s.user_id = u.user_id
		    LEFT JOIN user_authority ua ON u.user_id = ua.user_id;
		</select>
		
    	<select id="selectTotalStaffCount" resultType="int">
			<![CDATA[
				select count(staffId) from staff
			]]>
		</select>
    
    </mapper>